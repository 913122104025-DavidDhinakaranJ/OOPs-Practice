package com.mycompany.bankapplication4.views;import com.mycompany.bankapplication4.controllers.ATMController;import com.mycompany.bankapplication4.controllers.IATMController;import com.mycompany.bankapplication4.enums.ATMOption;import com.mycompany.bankapplication4.exceptions.InsufficientAmountException;import com.mycompany.bankapplication4.exceptions.NotAMultipleOf5Exception;import com.mycompany.bankapplication4.utils.ConsoleIOUtil;public class ConsoleATMView implements IATMView {    private final ConsoleIOUtil ioHandler;    private boolean runningATM;    private final IATMController atmController;        public ConsoleATMView(ATMController atmController) {        ioHandler = new ConsoleIOUtil();        this.atmController = atmController;    }        @Override    public void runATMView() {        runningATM = true;        while(runningATM) {            ATMOption choice = getCardMenuChoice();            switch(choice) {                case DEPOSIT -> handleDeposit();                case WITHDRAW -> handleWithdraw();                case SWIPE -> handleSwipe();                          case EXIT -> handleExit();                case INVALID -> handleInvalidChoice();            }        }    }    private ATMOption getCardMenuChoice() {        System.out.println("1. Deposit Cash");        System.out.println("2. Withdraw Cash");        System.out.println("3. Swipe Shopping");        System.out.println("0. Exit From ATM");                return switch(ioHandler.readInt("Enter choice: ")) {            case 1 -> ATMOption.DEPOSIT;            case 2 -> ATMOption.WITHDRAW;            case 3 -> ATMOption.SWIPE;            case 0 -> ATMOption.EXIT;            default -> ATMOption.INVALID;        };    }        @Override    public void handleDeposit() {        double amount = getDepositAmount();                atmController.handleDeposit(amount);        ioHandler.displaySuccess("Amount deposited.");        displayBalance(atmController.getBalance());    }    @Override    public void handleWithdraw() {        double amount = getWithdrawAmount();        double transactionCharge = atmController.calculateTransactionCharge(amount);        try {            atmController.handleWithdraw(amount, transactionCharge);            ioHandler.displaySuccess("Amount withdrawn.");            displayTransactionCharge(transactionCharge);            displayBalance(atmController.getBalance());        } catch (InsufficientAmountException e) {            ioHandler.displayError("Insufficient amount to withdraw.");        } catch (NotAMultipleOf5Exception ex) {            ioHandler.displayError("Withdraw amount must be multiple of 5.");        }    }    @Override    public void handleSwipe() {        double amount = getSwipePayAmount();        double cashback = atmController.calculateCashBack(amount);        try {            atmController.handleSwipe(amount, cashback);            ioHandler.displaySuccess("Amount swipe paid.");            displayCashback(cashback);            displayBalance(atmController.getBalance());        } catch (InsufficientAmountException e) {            ioHandler.displayError("Insufficient amount to withdraw.");        }    }    @Override    public void handleExit() {        System.out.println("Leaving ATM");        runningATM = false;    }    @Override    public void handleInvalidChoice() {        ioHandler.displayError("Invalid Choice.");    }    private double getDepositAmount() {        return ioHandler.readAmount("Enter amount to deposit: ");    }    private double getWithdrawAmount() {        return ioHandler.readAmount("Enter amount to withdraw: ");    }    private double getSwipePayAmount() {        return ioHandler.readAmount("Enter amount to swipe pay: ");    }    private void displayTransactionCharge(double transactionCharge) {        System.out.println("Transaction Charge: " + transactionCharge);    }    private void displayCashback(double cashback) {        System.out.println("Cashback: " + cashback);    }    private void displayBalance(double balance) {        System.out.println("Balance: " + balance);    }}