package com.mycompany.bankapplication4.repositories;import com.mycompany.authlib.users.AuthenticatableUser;import com.mycompany.bankapplication4.models.users.User;import com.mycompany.bankapplication4.models.accounts.BankAccount;import com.mycompany.bankapplication4.models.cards.Card;import java.util.ArrayList;import java.util.HashMap;import java.util.List;import java.util.Map;public class InMemoryRepository implements IUserRepository, IAccountRepository, ICardRepository {        private final Map<String, User> users;    private final Map<String, BankAccount> accounts;    private final Map<String, Card> cards;        private static InMemoryRepository repo;        private InMemoryRepository() {        this.accounts = new HashMap<>();        this.users = new HashMap<>();        this.cards = new HashMap<>();    }        public static InMemoryRepository getInMemoryRepository() {        if(repo == null) {            repo = new InMemoryRepository();        }        return repo;    }        @Override    public void saveUser(AuthenticatableUser user) {        users.put(user.getUsername(), (User) user);    }    @Override    public AuthenticatableUser findUser(String username) {        return users.get(username);    }    @Override    public boolean isUsernameTaken(String username) {        return users.containsKey(username);    }    @Override    public void saveAccount(BankAccount account) {        accounts.put(account.getAccNo(), account);    }    @Override    public BankAccount findAccount(String accNo) {        return accounts.get(accNo);    }    @Override    public List<BankAccount> findAccountsByUserId(String userId) {        List<BankAccount> userAccounts = new ArrayList<>();                for(BankAccount account : accounts.values()) {            if(account.getUserId().equals(userId)) {                userAccounts.add(account);            }        }                return userAccounts;    }    @Override    public void saveCard(Card card) {        cards.put(card.getCardNo(), card);    }    @Override    public Card findCard(String cardNo) {        return cards.get(cardNo);    }}