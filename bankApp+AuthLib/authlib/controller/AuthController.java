package com.mycompany.authlib.controller;import com.mycompany.authlib.users.AuthenticatableUser;import com.mycompany.authlib.users.factory.AuthenticatableUserFactory;import com.mycompany.authlib.repositories.IAuthenticatableUserRepository;public class AuthController implements IAuthController {    private final IAuthenticatableUserRepository users;    private final AuthenticatableUserFactory factory;    public AuthController(IAuthenticatableUserRepository userRepository, AuthenticatableUserFactory factory) {        this.users = userRepository;        this.factory = factory;    }        @Override    public void handleRegistration(String username, String password) throws Exception {        if(users.isUsernameTaken(username)) {            throw new Exception("Username already exists");        }                AuthenticatableUser newUser = factory.createUser(username, password);        users.saveUser(newUser);    }    @Override    public AuthenticatableUser handleLogin(String username, String password) throws Exception {        AuthenticatableUser user = users.findUser(username);        if(user == null) {            throw new Exception("Username not found.");        } else if(!user.validatePassword(password)) {            throw new Exception("Incorrect Password.");        }         return user;    }}