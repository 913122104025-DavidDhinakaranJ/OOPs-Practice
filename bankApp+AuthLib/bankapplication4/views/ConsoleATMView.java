package com.mycompany.bankapplication4.views;import com.mycompany.bankapplication4.controllers.ATMController;import com.mycompany.bankapplication4.controllers.IATMController;import com.mycompany.bankapplication4.enums.ATMOption;import com.mycompany.bankapplication4.exceptions.InsufficientAmountException;import com.mycompany.bankapplication4.exceptions.NotAMultipleOf5Exception;import java.util.Scanner;public class ConsoleATMView implements IATMView {    private final Scanner scanner;    private boolean runningATM;    private final IATMController atmController;        public ConsoleATMView(ATMController atmController) {        scanner = new Scanner(System.in);        this.atmController = atmController;    }        @Override    public void runATMView() {        runningATM = true;        while(runningATM) {            ATMOption choice = getCardMenuChoice();            switch(choice) {                case DEPOSIT -> handleDeposit();                case WITHDRAW -> handleWithdraw();                case SWIPE -> handleSwipe();                          case EXIT -> handleExit();                case INVALID -> handleInvalidChoice();            }        }    }    private ATMOption getCardMenuChoice() {        System.out.println("1. Deposit Cash");        System.out.println("2. Withdraw Cash");        System.out.println("3. Swipe Shopping");        System.out.println("0. Exit From ATM");                System.out.print("Enter choice: ");        return switch(getIntInput()) {            case 1 -> ATMOption.DEPOSIT;            case 2 -> ATMOption.WITHDRAW;            case 3 -> ATMOption.SWIPE;            case 0 -> ATMOption.EXIT;            default -> ATMOption.INVALID;        };    }        @Override    public void handleDeposit() {        double amount = getDepositAmount();                atmController.handleDeposit(amount);        displayMessage("Amount deposited.");        displayBalance(atmController.getBalance());    }    @Override    public void handleWithdraw() {        double amount = getWithdrawAmount();        double transactionCharge = atmController.calculateTransactionCharge(amount);        try {            atmController.handleWithdraw(amount, transactionCharge);            displayMessage("Amount withdrawn.");            displayTransactionCharge(transactionCharge);            displayBalance(atmController.getBalance());        } catch (InsufficientAmountException e) {            displayError("Insufficient amount to withdraw.");        } catch (NotAMultipleOf5Exception ex) {            displayError("Withdraw amount must be multiple of 5.");        }    }    @Override    public void handleSwipe() {        double amount = getSwipePayAmount();        double cashback = atmController.calculateCashBack(amount);        try {            atmController.handleSwipe(amount, cashback);            displayMessage("Amount swipe paid.");            displayCashback(cashback);            displayBalance(atmController.getBalance());        } catch (InsufficientAmountException e) {            displayError("Insufficient amount to withdraw.");        }    }    @Override    public void handleExit() {        System.out.println("Leaving ATM");        runningATM = false;    }    @Override    public void handleInvalidChoice() {        displayError("Invalid Choice.");    }    private double getDepositAmount() {        System.out.print("Enter amount to deposit: ");        return scanner.nextDouble();    }    private double getWithdrawAmount() {        System.out.print("Enter amount to withdraw: ");        return scanner.nextDouble();    }    private double getSwipePayAmount() {        System.out.print("Enter amount to swipe pay: ");        return scanner.nextDouble();    }    private void displayTransactionCharge(double transactionCharge) {        System.out.println("Transaction Charge: " + transactionCharge);    }    private void displayCashback(double cashback) {        System.out.println("Cashback: " + cashback);    }    private void displayBalance(double balance) {        System.out.println("Balance: " + balance);    }        private int getIntInput() {        if(!scanner.hasNextInt()) {            scanner.next();            return -1;        }                int val = scanner.nextInt();        scanner.nextLine();        return val;    }        private double getDoubleInput() {        if(!scanner.hasNextDouble()) {            scanner.next();            return -1;        }                double val = scanner.nextDouble();        scanner.nextLine();        return val;    }    private void displayMessage(String message) {        System.out.println("Success: " + message);    }        private void displayError(String message) {        System.out.println("Error: " + message);    }}