package com.mycompany.bankapplication4.views;import com.mycompany.bankapplication4.controllers.INetBankingController;import com.mycompany.bankapplication4.enums.AccountType;import com.mycompany.bankapplication4.enums.CardType;import com.mycompany.bankapplication4.enums.NetBankingOption;import com.mycompany.bankapplication4.exceptions.AccountNotFoundException;import com.mycompany.bankapplication4.exceptions.AccountNotOwnedByUserException;import com.mycompany.bankapplication4.exceptions.InsufficientAmountException;import com.mycompany.bankapplication4.models.accounts.BankAccount;import java.util.List;import java.util.Scanner;public class ConsoleNetBankingView implements INetBankingView {    private final Scanner scanner;    private final INetBankingController netBankingController;        private boolean login;        public ConsoleNetBankingView(INetBankingController netBankingController) {        scanner = new Scanner(System.in);        this.netBankingController = netBankingController;    }        @Override    public void runNetBankingView() {        login = true;                while(login) {            NetBankingOption choice = getNetBankingMenuChoice();            switch(choice) {                case LIST_ACCOUNTS -> handleListAccounts();                case CREATE_ACCOUNT -> handleCreateAccount();                case ISSUE_CARD -> handleIssueCard();                case TRANSFER_FUND -> handleTransferFund();                case LOGOUT -> handleLogout();                case INVALID -> handleInvalidChoice();            }        }                System.out.println("Logging Out");    }    private NetBankingOption getNetBankingMenuChoice() {        System.out.println("1. My Accounts");        System.out.println("2. Create Account");        System.out.println("3. Get ATM Card");        System.out.println("4. Transfer Funds");        System.out.println("0. Logout");                System.out.print("Enter choice: ");        return switch(scanner.nextInt()) {            case 1 -> NetBankingOption.LIST_ACCOUNTS;            case 2 -> NetBankingOption.CREATE_ACCOUNT;            case 3 -> NetBankingOption.ISSUE_CARD;            case 4 -> NetBankingOption.TRANSFER_FUND;            case 0 -> NetBankingOption.LOGOUT;            default -> NetBankingOption.INVALID;        };    }        @Override    public void handleListAccounts() {        List<BankAccount> accounts = netBankingController.getAccountsList();        if(accounts.isEmpty()) {            displayMessage("No Accounts Found.");        }        else {            displayMessage("My Accounts");            displayAccountList(accounts);        }    }    @Override    public void handleCreateAccount() {        AccountType type = getAccountType();        switch(type) {            case SAVINGS -> handleCreateSavingsAccount();            case CURRENT -> handleCreateCurrentAccount();            case INVALID -> handleInvalidAccountChoice();        }    }        @Override    public void handleCreateSavingsAccount() {        double initialAmount = getInitialDepositAmount();        String accNo = netBankingController.createSavingsAccount(initialAmount);        displayMessage("Savings account with account number \"" + accNo + "\" is created.");    }    @Override    public void handleCreateCurrentAccount() {        double initialAmount = getInitialDepositAmount();                String accNo = netBankingController.createCurrentAccount(initialAmount);        displayMessage("Current account with account number \"" + accNo + "\" is created.");    }        @Override    public void handleInvalidAccountChoice() {        displayError("Invalid Account Choice");    }    @Override    public void handleIssueCard() {        CardType type = getCardType();        switch(type) {            case CREDIT -> handleIssueCreditCard();            case DEBIT -> handleIssueDebitCard();            case INVALID -> handleInvalidCardChoice();        }    }        @Override    public void handleIssueCreditCard() {        int pin = getPin();                String cardNo = netBankingController.issueCreditCard(pin);        displayMessage("\"" + cardNo + "\" is your Credit Card number.");    }    @Override    public void handleIssueDebitCard() {        String accNo = getAccountNumber();        int pin = getPin();        try {            String cardNo = netBankingController.issueDebitCard(accNo, pin);            displayMessage("\"" + cardNo + "\" is your Debit Card number.");        } catch (AccountNotOwnedByUserException e) {            displayError("Account '" + accNo + "' is not owned by you.");        }    }        @Override    public void handleInvalidCardChoice() {        displayError("Invalid Card Choice");    }    @Override    public void handleTransferFund() {        String from = getSenderAccountNumber();        String to = getReceiverAccountNumber();                double transferAmount = getTransferFundAmount();                try {            netBankingController.transferFund(from, to, transferAmount);            displayMessage("Transfer Successfully completed.");            displayBalance(netBankingController.getBalance(from));        } catch(AccountNotOwnedByUserException e) {            displayError("Account '" + from + "' is not owned by you.");        } catch (AccountNotFoundException e) {            displayError("Account '" + to + "' not found.");        } catch (InsufficientAmountException e) {            displayError("Insufficient Amount to Transfer.");        }    }    @Override    public void handleLogout() {        login = false;    }    @Override    public void handleInvalidChoice() {        displayError("Invalid Choice.");    }    private AccountType getAccountType() {        System.out.println("1. Savings Account");        System.out.println("2. Current Account");                System.out.print("Enter choice for account: ");        return switch(scanner.nextInt()) {            case 1 -> AccountType.SAVINGS;            case 2 -> AccountType.CURRENT;            default -> AccountType.INVALID;        };    }    private CardType getCardType() {        System.out.println("1. Credit Card");        System.out.println("2. Debit Card");                System.out.print("Enter choice for card: ");        return switch(scanner.nextInt()) {            case 1 -> CardType.CREDIT;            case 2 -> CardType.DEBIT;            default -> CardType.INVALID;        };    }        private String getAccountNumber() {        System.out.print("Enter account number: ");        return scanner.next();    }    private int getPin() {        System.out.print("Enter pin: ");        return scanner.nextInt();    }    private double getInitialDepositAmount() {        System.out.print("Enter initial deposit amount: ");        return scanner.nextDouble();    }        private String getSenderAccountNumber() {        System.out.print("Enter sender account number: ");        return scanner.next();    }    private String getReceiverAccountNumber() {        System.out.print("Enter receiver account number: ");        return scanner.next();    }    private double getTransferFundAmount() {        System.out.print("Enter transfer fund amount: ");        return scanner.nextDouble();        }    private void displayAccountList(List<BankAccount> accounts) {        for(BankAccount account : accounts) {            System.out.println("Account Number: " + account.getAccNo() + " Account Type: " + account.getAccountType());        }    }    private void displayBalance(double balance) {        System.out.println("Balance: " + balance);    }    private void displayMessage(String message) {        System.out.println(message);    }        private void displayError(String message) {        System.out.println("Error: " + message);    }  }